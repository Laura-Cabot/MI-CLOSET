<div class="flex justify-between items-center mb-6">
    <button
      (click)="goBackToDashboard()"
      class="flex items-center gap-1 text-gray-600 hover:text-rose-500 font-semibold transition"
    >
      ‚Üê Volver al Panel
    </button>
    <h2 class="text-2xl font-bold text-rose-500">Editor de Promociones</h2>
</div>
  
<div class="bg-white rounded-lg shadow-md p-6 max-w-lg mx-auto space-y-4">
    
    <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">T√≠tulo de la Promoci√≥n</label>
        <input
            [(ngModel)]="nuevaPromo.titulo"
            placeholder="Ej: 10% OFF Transferencia o Banamex 3 cuotas"
            class="border p-2 rounded w-full"
        />
    </div>

    <div class="border-t pt-4">
        <label class="block text-sm font-medium text-gray-700 mb-1">URL de la Imagen/Flyer (Opcional)</label>
        <p class="text-xs text-gray-500 mb-2">Si pones una imagen, se mostrar√° como un *banner*. Si lo dejas vac√≠o, se mostrar√° como texto destacado.</p>
        <input
            [(ngModel)]="nuevaPromo.imagen"
            placeholder="URL (Ej: assets/flyer-banco-azteca.jpg)"
            class="border p-2 rounded w-full"
        />
    </div>
    
    <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">Descuento (%) o Cuotas (Solo n√∫mero)</label>
        <input
            type="number"
            [(ngModel)]="nuevaPromo.descuento"
            placeholder="Ej: 20 (Para 20% OFF) o 3 (Para 3 cuotas)"
            class="border p-2 rounded w-full"
        />
    </div>

    <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">Descripci√≥n / Letra chica</label>
        <textarea
            [(ngModel)]="nuevaPromo.descripcion"
            placeholder="Ej: Aplica para pago en efectivo en tienda f√≠sica √∫nicamente. V√°lido hasta el 31/10."
            class="border p-2 rounded w-full h-20 resize-none"
        ></textarea>
    </div>

    <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">V√°lido hasta (Fecha)</label>
        <input
            type="date"
            [(ngModel)]="nuevaPromo.fecha"
            class="border p-2 rounded w-full"
        />
    </div>

    <button
        (click)="agregarPromo()"
        class="w-full bg-rose-500 text-white py-2 rounded-lg hover:bg-rose-600 transition"
    >
        Agregar Promoci√≥n
    </button>
  
    <ul class="divide-y mt-4">
      <li
        *ngFor="let promo of promos; let i = index"
        class="flex justify-between items-center py-2"
      >
        <div class="flex items-center gap-3">
            <div class="w-10 h-10 flex items-center justify-center border rounded bg-gray-50 overflow-hidden">
                <img
                    *ngIf="promo.imagen"
                    [src]="promo.imagen"
                    alt="Promo Banner"
                    class="w-full h-full object-cover"
                />
                <span *ngIf="!promo.imagen" class="text-rose-500 text-lg">üìù</span>
            </div>
          
          <div>
            <p class="font-semibold text-gray-800">
                {{ promo.titulo }} 
                <span class="text-xs font-normal text-gray-500 ml-1">
                    ({{ promo.imagen ? 'Banner/Flyer' : 'Fila de Texto' }})
                </span>
            </p>
            <p class="text-sm text-gray-600">
              {{ promo.descuento }}% / Cuotas | {{ promo.fecha }}
            </p>
          </div>
        </div>
  
        <button
          (click)="eliminarPromo(i)"
          class="text-red-500 hover:underline text-sm"
        >
          Eliminar
        </button>
      </li>
    </ul>
</div>